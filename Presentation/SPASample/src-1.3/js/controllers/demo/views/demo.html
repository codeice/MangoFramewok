<div class="page-header position-relative" id="gridName">
    <h1>
        {{title}}
        <small>
            <i class="icon-double-angle-right"></i>
            Demo
        </small>
        <button class="btn btn-small btn-purple pull-right " ng-click="goToFormTemplate()">
            <i class="icon-arrow-right"></i>
            表单模板
        </button>
    </h1>
</div>

<!--search form-->
<div class="row-fluid">
    <div class="span12">
        <div class="widget-box">
            <div class="widget-header  header-color-light-blue">
                <h5>查询条件</h5>
                <div class="widget-toolbar">
                    <a href="#" data-action="collapse">
                        <i class="1 icon-chevron-up bigger-125"></i>
                    </a>
                </div>
            </div>
            <div class="widget-body">
                <div class="widget-main widget-main-header">
                    <!--查询条件-->
                    <div class="row-fluid">
                        <div class="span4 span4-ext">
                            <div class="control-group ">
                                <label class="form-label">姓名</label>
                                <input type="text" name="Name" ng-model="searchModel.Name">
                            </div>
                        </div>

                        <div class="span4 span4-ext">
                            <div class="control-group ">
                                <label class="form-label">身份证号</label>
                                <input type="text" name="IDCardNo" ng-model="searchModel.IDCardNo">
                            </div>
                        </div>
                        <div class="span4 span4-ext">
                            <div class="control-group ">
                                <label class="form-label">年</label>
                                <input type="text" dir-datepicker="yyyy" ng-model="searchModel.Year">
                            </div>
                        </div>

                        <div class="span4 span4-ext">
                            <div class="control-group ">
                                <label class="form-label">年月</label>
                                <input type="text" dir-datepicker="yyyy-MM" ng-model="searchModel.Month">
                            </div>
                        </div>

                        <div class="span4 span4-ext">
                            <div class="control-group ">
                                <label class="form-label">年月日</label>
                                <input type="text" dir-datepicker="yyyy-MM-dd" ng-model="searchModel.Day">
                            </div>
                        </div>
                    </div>
                    <!--button-->
                    <div class="row-fluid">
                        <div class="span12 create-group">
                            <div class="controls pull-right">
                                <button class="btn btn-small btn-info " ng-click="doSearch(1)">
                                    <i class="icon-search"></i>
                                    查询
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--列表-->
<div class="hr hr-18 dotted"></div>
<div class="row-fluid">
    <div class="span12">
        <div class="table-header">
            Demo List
        </div>
        <div id="sample-table-2_wrapper" class="dataTables_wrapper" role="grid">
            <!--table action-->
            <div class="row-fluid">
                <div class="span12 op-group">
                    <i class="icon-eye-open blue"></i>查看
                    <i class="icon-pencil purple"></i> 修改
                    <i class="icon-trash red"></i> 删除
                    <button class="btn btn-small btn-danger pull-right" ng-click="batchDeleteUser()">
                        <i class="icon-trash"></i>
                        批量删除
                    </button>
                    <button class="btn btn-small btn-primary pull-right margin-right-5" data-toggle="modal" data-target="#addOrEditModal" ng-click="addUser()">
                        <i class="icon-plus"></i>
                        添加
                    </button>
                </div>
            </div>
            <!-- table-->
            <table id="sample-table-2" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th class="center">序号</th>
                        <th class="center">
                            <label>
                                <input type="checkbox" class="ace" dir-toggle-check-all="users" ng-model="isAllChecked" ng-checked="isAllChecked" />
                                <span class="lbl"></span>
                            </label>
                        </th>
                        <th class="center">
                            操作
                        </th>
                        <th>姓名</th>
                        <th>性别</th>
                        <th>身份证</th>
                        <th>学历</th>
                        <th>专业</th>

                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="user in users">
                        <td class="center">{{$index + 1}}</td>
                        <td class="center">
                            <label>
                                <input type="checkbox" class="ace" dir-toggle-check="user.checked" ng-model=user.checked ng-checked="user.checked" />
                                <span class="lbl"></span>
                            </label>
                        </td>
                        <td class="center">
                            <button class="btn btn-minier btn-purple" title="查看" data-rel="tooltip" data-toggle="modal" data-target="#userDetailModal" ng-click="getUserDetail(user.Id)">
                                <i class="icon-eye-open bigger-110"></i>
                            </button>
                            <button class="btn btn-minier btn-danger" title="删除" data-rel="tooltip" ng-click="deleteUser(user)">
                                <i class="icon-trash bigger-110"></i>

                            </button>
                            <button class="btn btn-minier btn-success" title="修改" data-rel=" tooltip" data-toggle="modal" data-target="#addOrEditModal" ng-click="editUser(user)">
                                <i class="icon-pencil bigger-110"></i>

                            </button>
                        </td>
                        <td>{{user.Name}}</td>
                        <td>{{user.Gender}}</td>
                        <td>{{user.IDCardNo}}</td>
                        <td>{{user.Education}}</td>
                        <td>{{user.Major}}</td>

                    </tr>
                </tbody>
            </table>
            <div dir-page page-model="pageModel" page-change="changePage">
            </div>
        </div>
    </div>
</div>
            {{currentUser}}
<!--查看详情-->
<div id="userDetailModal" class="modal hide" tabindex="-1">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="blue bigger">详细信息</h4>
    </div>
    <div class="modal-body">
        <div class="profile-user-info profile-user-info-striped" style="margin-left: 0; margin-top: 10px">
            <div class="profile-info-row">
                <div class="profile-info-name"> 标识</div>
                <div class="profile-info-value">
                    <span class="editable">{{userInfo.Id}}</span>
                </div>
            </div>
            <div class="profile-info-row">
                <div class="profile-info-name"> 姓名 </div>
                <div class="profile-info-value">
                    <span class="editable"></span>
                </div>
            </div>

            <div class="profile-info-row">
                <div class="profile-info-name"> 身份证号 </div>
                <div class="profile-info-value">
                    <span class="editable">{{userInfo.IDCardNo}}</span>
                </div>
            </div>

            <div class="profile-info-row">
                <div class="profile-info-name"> 学历 </div>
                <div class="profile-info-value">
                    <span class="editable">{{userInfo.Education}}</span>
                </div>
            </div>

            <div class="profile-info-row">
                <div class="profile-info-name"> 专业 </div>
                <div class="profile-info-value">
                    <span class="editable">{{userInfo.Major}}</span>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-small btn-primary">返回</button>
    </div>
</div>

<!--新建 编辑应用-->
<div id="addOrEditModal" class="modal hide" tabindex="-1">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="blue bigger">{{modalTitle}}</h4>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" id="addOrEditForm" name="addOrEditForm">

            <input type="hidden" ng-model="user.Id" />
            <div class="control-group">
                <label class="control-label" for="Name">
                    <span class="require-tip">*</span>姓名
                </label>
                <div class="controls">
                    <input type="text" id="Name" name="Name" ng-model="user.Name" ng-maxlength="30" required ng-blur="checkUserNmeIsExsit()">
                    <span class="custom-error" ng-show="addOrEditForm.Name.$dirty||addOrEditForm.isSubmitted">
                        <span ng-show="isUserNameExist&& user.Name!=null">姓名重复</span>
                        <span ng-show="addOrEditForm.Name.$error.required">名称不能为空</span>
                        <span ng-show="addOrEditForm.Name.$error.maxlength">最大长度30字符</span>
                    </span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="">
                    性别
                </label>
                <div class="controls">
                    <input type="radio" name="Gender" class="ace" value="男" ng-model="user.Gender" />
                    <span class="lbl"> 男</span>
                    <input type="radio" name="Gender" class="ace" value="女" ng-model="user.Gender" />
                    <span class="lbl"> 女</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="IDCardNo">
                    <span class="require-tip">*</span> 身份证号
                </label>
                <div class="controls">
                    <input type="text" id="IDCardNo" name="IDCardNo" ng-model="user.IDCardNo" required ng-pattern="/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/">
                    <span class="custom-error" ng-show="addOrEditForm.IDCardNo.$dirty||addOrEditForm.isSubmitted">
                        <span ng-show="addOrEditForm.IDCardNo.$error.required">身份证号不能为空</span>
                        <span ng-show="addOrEditForm.IDCardNo.$error.pattern">身份证号格式不正确</span>
                    </span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="Education">
                    <span class="require-tip">*</span>学历
                </label>
                <div class="controls">
                    <select id="Education" name="Education" ng-model="user.Education" ng-options="item as item for item in educationList" required>
                        <option value="">请选择</option>
                    </select>
                    <span class="custom-error" ng-show="addOrEditForm.isSubmitted">
                        <span ng-show="user.Education==null||user.Education==undefined">学历不能为空</span>
                    </span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="Major">
                    <span class="require-tip">*</span> 专业
                </label>
                <div class="controls">
                    <select id="Education" name="Major" ng-model="user.Major" ng-options="item.code as item.value for item in majorList" required>
                        <option value="">请选择</option>
                    </select>
                    <span class="custom-error" ng-show="addOrEditForm.isSubmitted">
                        <span ng-show="user.Major==null||user.Major==undefined">学历不能为空</span>
                    </span>
                </div>
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-small btn-danger" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-small  btn-primary" ng-click="saveUser()">保存</button>
    </div>
</div>
