{"version":3,"sources":["demo/userService.js","demo/userCtrl.js","base/validations.js","base/utility.js","base/storage.js","base/services.js","base/filters.js","base/directives.js","base/constants.js","base/config.js","base/UIWidget.js","account/accountService.js","account/accountCtrl.js","app.main.js","app.js"],"names":["demoServiceProxy","service","this","getAll","call","list","id","name","email","lastText","face","getList","remove","item","splice","indexOf","getDetail","i","length","angular","module","factory","userModule","config","$routeProvider","when","templateUrl","controller","reloadOnSearch","$scope","demoService","persons","$routeParams","uiKit","userId","user","showMsg","message","showAlert","alert","showConfirm","confirm","then","console","log","validations_v","directive","patterns","restrict","require","link","scope","element","attrs","ngModelCtrl","reg","RegExp","mobile","$parsers","push","viewValue","test","undefined","$setValidity","idCardNo","util_v","cookieHelper","setCookie","key","value","expSeconds","d","Date","setTime","getTime","document","cookie","toUTCString","getCookie","cookies","split","trim","substring","checkCookie","clearCookie","utility","getQueryParameter","param","location","href","unescape","$2","replace","resizeIframe","ifm","getElementById","ifmHeight","contentDocument","body","scrollHeight","height","Array","prototype","index","removeRange","items","v_storage","storage","win","getLocalKey","localKey","keyPrefix","isExpires","expiresTimestamp","nowTimestamp","expires","setItem","expireSeconds","epxireTimestamp","localStorage","JSON","stringify","_key","getItem","loacalKey","objStr","parse","removeItem","clear","keyReg","minutes","window","service_v","serviceModule","safeApply","fn","phase","$root","$$phase","$apply","$rootScope","$q","blockCount","blockUI","$","addClass","unblockUI","removeClass","msg","html","$msgWidget","setTimeout","title","confirmDefer","defer","promise","showFooter","querySelector","hideFooter","hideHeader","showHeader","$location","$http","appConfig","accessTokenKey","refreshTokenKey","userInfoKey","identityModel","AccessToken","RefreshToken","UserInfo","getIdentityModel","accessTokenObj","refreshTokenObj","userInfoObj","getAccessToken","getUserInfo","getRefreshToken","saveIdentityModel","tokenResult","userInfo","redirectUrl","ExpiresIn","RefreshTokenLifetime","path","removeIdentityModel","goToLoginPage","encodeURIComponent","hash","goToAuthorize","result","$promise","resolve","data","Code","refreshModel","post","oauthServer","response","apiResult","Data","oauthService","route","methodType","accessToken","apihost","apiServer","substr","defaults","headers","common","Authorization","toLowerCase","queryParams","paramArray","p","paramStr","escape","join","get","params","put","jsonp","extend","status","refresh","newParam","action","httpProxy","count","blocked","token","backgroundCall","authorizedCall","authorizedResult","temp","apiResponse","authorizedLoadingCall","filters_v","filter","$sce","url","trustAsResourceUrl","input","trustAsHtml","ret","directives_v","ngClick","on","e","preventDefault","$window","elementt","bind","history","back","$timeout","$last","$emit","onFinishRepeat","constants_v","constant","from","tokenLifetime","platform","sendRegisterVCode","sendLoginVCode","sendResetPwdVCode","sendChangePwdVCode","sendBindMobileVCode","sendResetedPwd","passport","hkMacao","taiwan","studentNumber","phoneReg","tel","zhEn","zhEnChar","apiConfig","apiBatchServer","UI","boot","$body","$doc","$win","$content","children","init","forEach","isFunction","Component","Zepto","closeWidget","eleId","$ele","each","attr","toggleTooltip","$tooltip","next","hasClass","accountServiceProxy","sendSMS","model","mobileRegister","accountLogin","mobileLogin","verificationCodeLogin","resetPwd","resetPwdModel","changePwd","getCurrentUser","logOut","footer","accountService","decodeURIComponent","loginModel","IdentityKey","Password","VerificationCode","From","GraphicCode","isShowSaveBtn","toggleShow","isReadable","isSubmitted","form","$invalid","Message","smsEvent","countDown","intevalId","setInterval","vCodeLifetime","clearInterval","isEnableSend","btnText","Mobile","smsModel","CellNumber","Event","vCodeLogin","pwd","register","ResetPasswordModel","postResetPwd","appCtrl","$on","current","isUndefined","$$route","header","auth","app","run","$transform","bootstrap","httpBatchConfigProvider","setAllowedBatchEndpoint","maxBatchedRequestPerCall","minimumBatchSize","otherwise","redirectTo"],"mappings":"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","file":"app.bundle-1473237902161.js","sourcesContent":["function demoServiceProxy(service) {\r\n\r\n    //服务调用示例\r\n    this.getAll = function () {\r\n        return service.call(\"Competitions/QueryOptions\", {}, \"get\");\r\n    }\r\n\r\n    //-----demo示例\r\n    var list = [{\r\n        id: 0,\r\n        name: 'Ben Sparrow',\r\n        email: 'benSparrow@126.com',\r\n        lastText: 'You on your way?',\r\n        face: 'img/ben.png'\r\n    }, {\r\n        id: 1,\r\n        name: 'Max Lynx',\r\n        email: 'MaxLynx@126.com',\r\n        lastText: 'Hey, it\\'s me',\r\n        face: 'img/max.png'\r\n    }, {\r\n        id: 2,\r\n        name: 'Adam Bradleyson',\r\n        email: 'Bradleyson@126.com',\r\n        lastText: 'I should buy a boat',\r\n        face: 'img/adam.jpg'\r\n    }, {\r\n        id: 3,\r\n        name: 'Perry Governor',\r\n        email: 'Governor@126.com',\r\n        lastText: 'Look at my mukluks!',\r\n        face: 'img/perry.png'\r\n    }, {\r\n        id: 4,\r\n        name: 'Mike',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 5,\r\n        name: 'tina',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 6,\r\n        name: 'herry',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 7,\r\n        name: 'Mike ',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 8,\r\n        name: ' Harrington',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 9,\r\n        name: 'jack',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }, {\r\n        id: 10,\r\n        name: 'eva',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 10,\r\n        name: 'judy',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    },\r\n    {\r\n        id: 11,\r\n        name: 'bottle',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }\r\n    , {\r\n        id: 12,\r\n        name: 'bill',\r\n        email: 'Harrington@126.com',\r\n        lastText: 'This is wicked good ice cream.',\r\n        face: 'img/mike.png'\r\n    }];\r\n\r\n    this.getList = function () {\r\n        return list;\r\n    },\r\n\r\n    this.remove = function (item) {\r\n        list.splice(list.indexOf(item), 1);\r\n    },\r\n\r\n    this.getDetail = function (id) {\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (list[i].id == id) {\r\n                return list[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nangular.module('user.service', []).factory('demoService', ['service', function (service) {\r\n    return new demoServiceProxy(service);\r\n}]);","(function () {\r\n    'use strict';\r\n    var userModule = angular.module('user', ['user.service']);\r\n\r\n    //----路由配置\r\n    userModule.config(['$routeProvider',function ($routeProvider) {\r\n        $routeProvider\r\n            .when('/users',\r\n            {\r\n                templateUrl: 'app/demo/user-list.html',\r\n                controller: 'userCtrl',\r\n/*                footer: false,\r\n                header: false,\r\n                auth:true,*/\r\n                reloadOnSearch: false\r\n            }).when('/users/:id', {\r\n                templateUrl: 'app/demo/user-detail.html',\r\n                controller: 'userDetailCtrl',\r\n                reloadOnSearch: false\r\n            });\r\n    }]);\r\n\r\n\r\n    //----用户列表\r\n    userModule.controller('userCtrl', ['$scope', 'demoService', function ($scope, demoService) {\r\n        // Some fake testing data\r\n        $scope.persons = demoService.getList();\r\n\r\n    }]);\r\n\r\n    //----用户详情\r\n    userModule.controller('userDetailCtrl', ['$scope', '$routeParams', 'demoService', 'uiKit', function ($scope, $routeParams, demoService, uiKit) {\r\n        var userId = $routeParams.id;\r\n        $scope.user = demoService.getDetail(userId);\r\n\r\n        $scope.showMsg = function () {\r\n            uiKit.message('服务报错...');\r\n        };\r\n\r\n        $scope.showAlert = function () {\r\n            uiKit.alert(\"alert 弹出框框\");\r\n        }\r\n\r\n        $scope.showConfirm = function () {\r\n            uiKit.confirm(\"确认删除？\").then(function () {\r\n                console.log(\"确认\");\r\n            }, function () {\r\n                console.log(\"取消\");\r\n            });\r\n        }\r\n    }]);\r\n\r\n})();","validations_v = '1.0.0';\r\n\r\n(function () {\r\n    var module = angular.module('app.validations', []);\r\n\r\n    //----验证手机号\r\n    module.directive(\"mobile\", ['patterns', function (patterns) {\r\n        return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, ngModelCtrl) {\r\n                var reg = new RegExp(patterns.mobile);\r\n                ngModelCtrl.$parsers.push(function (viewValue) {\r\n                    if (reg.test(viewValue) || viewValue == undefined || viewValue === \"\") {\r\n                        ngModelCtrl.$setValidity('mobile', true);\r\n                        return viewValue;\r\n                    } else {\r\n                        ngModelCtrl.$setValidity('mobile', false);\r\n                        return viewValue;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n\r\n    //---验证身份证号\r\n    module.directive(\"cardNumber\", ['patterns', function (patterns) {\r\n        return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attrs, ngModelCtrl) {\r\n                var reg = new RegExp(patterns.idCardNo);\r\n                ngModelCtrl.$parsers.push(function (viewValue) {\r\n                    if (reg.test(viewValue) || viewValue == undefined || viewValue === \"\") {\r\n                        ngModelCtrl.$setValidity('cardNumber', true);\r\n                        return viewValue;\r\n                    } else {\r\n                        ngModelCtrl.$setValidity('cardNumber', false);\r\n                        return viewValue;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n\r\n})();","\r\nutil_v = '1.0.0';\r\n\r\n//----cookieHelper\r\nvar cookieHelper = {\r\n    setCookie: function (key, value, expSeconds) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + (expSeconds * 1000));\r\n        document.cookie = key + \"=\" + value + \"; expires=\" + d.toUTCString() + \";path=/\";\r\n    },\r\n\r\n    getCookie: function (key) {\r\n        var name = key + \"=\";\r\n        var cookies = document.cookie.split(';');\r\n        for (var i = 0; i < cookies.length; i++) {\r\n            var cookie = cookies[i].trim();\r\n            if (cookie.indexOf(name) == 0)\r\n                return cookie.substring(name.length, cookie.length);\r\n        }\r\n        return \"\";\r\n    },\r\n\r\n    checkCookie: function (key) {\r\n        if (cookieHelper.getCookie(key) == \"\") {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    },\r\n\r\n    clearCookie: function (key) {\r\n        cookieHelper.setCookie(key, \"\", -1);\r\n    }\r\n};\r\n\r\n\r\n//---------------工具\r\nvar utility = {\r\n    //获取URL参数值\r\n    getQueryParameter: function (param) {\r\n        var reg = new RegExp(\"(^|\\\\?|&)\" + param + \"=([^&]*)(\\\\s|&|$)\", \"i\");\r\n        if (reg.test(location.href))\r\n            return unescape(RegExp.$2.replace(/\\+/g, \" \"));\r\n        return \"\";\r\n    },\r\n\r\n    //----iframe\r\n    resizeIframe: function () {\r\n        var ifm = document.getElementById('rule-ifm');\r\n        var ifmHeight = ifm.contentDocument.body.scrollHeight;\r\n        ifm.height = ifmHeight;\r\n    }\r\n}\r\n\r\n\r\n//---移除 数组中的某项\r\nArray.prototype.remove = function (item) {\r\n    var index = this.indexOf(item);\r\n    if (index >= 0) {\r\n        this.splice(index, 1);\r\n    }\r\n};\r\n\r\n//----删除数组中的特定项\r\nArray.prototype.removeRange = function (items) {\r\n    for (var i = 0; i < items.length; i++) {\r\n        var item = items[i];\r\n        var index = this.indexOf(item);\r\n        if (index >= 0) {\r\n            this.splice(index, 1);\r\n        }\r\n    }\r\n};\r\n","var v_storage = \"v_1.0.0\";\r\nvar v_storage = \"v_1.0.0\";\r\nvar storage = (function (win) {\r\n    var keyPrefix = \"localStorage_\",\r\n        keyReg = new RegExp(/^localStorage_\\_.+$/);\r\n\r\n    //key的存储格式 ls_XX;\r\n    function getLocalKey(key) {\r\n        var localKey = keyPrefix + key;\r\n        return localKey;\r\n    }\r\n\r\n    //----是否过期(expires 时间)\r\n    function isExpires(key, expiresTimestamp) {\r\n        var nowTimestamp = new Date().getTime();\r\n        if (!expires) {\r\n            return false;\r\n        }\r\n        if (expiresTimestamp - nowTimestamp <= 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    //----设置项（expireMinutes 过期分钟数）\r\n    function setItem(key, value, expireSeconds) {\r\n        if (!key) {\r\n            return this;\r\n        }\r\n        expireSeconds = expireSeconds || 0;\r\n        var localKey = getLocalKey(key),\r\n          epxireTimestamp = expireSeconds ? expireSeconds * 1000 + new Date().getTime() : \"\";\r\n        var item = {\r\n            \"key\": key,\r\n            \"value\": value,\r\n            \"expires\": epxireTimestamp\r\n        };\r\n        win.localStorage.setItem(localKey, JSON.stringify(item));\r\n        this._key = key;\r\n        return this;\r\n    }\r\n\r\n    //---获取项\r\n    function getItem(key) {\r\n        var loacalKey = getLocalKey(key);\r\n        var objStr = win.localStorage[loacalKey];\r\n        if (objStr == undefined) {\r\n            return \"\";\r\n        }\r\n        var item = JSON.parse(objStr);\r\n        if (item) {\r\n            // 如果过期则删除缓存并返回空字符串\r\n            if (isExpires(loacalKey, item['expires'])) {\r\n                this.removeItem(key);\r\n                return \"\";\r\n            }\r\n            return item;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    //----移除项\r\n    function removeItem(key) {\r\n        var localKey = getLocalKey(key);\r\n        if (win.localStorage[localKey] == undefined) {\r\n            return;\r\n        }\r\n        var item = JSON.parse(win.localStorage[localKey]);\r\n        if (item) {\r\n            win.localStorage.removeItem(localKey);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    //----清空所有项\r\n    function clear() {\r\n        for (var key in win.localStorage) {\r\n            if (keyReg.test(key)) {\r\n                win.localStorage.removeItem(key);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    //----设置某项过期时间\r\n    function expires(minutes) {\r\n        if (!minutes) {\r\n            return this;\r\n        }\r\n        var key = this._key;\r\n        if (!key) {\r\n            return this;\r\n        }\r\n        var localKey = getLocalKey(key);\r\n        var item = JSON.parse(win.localStorage[localKey]),\r\n            value = item[\"value\"];\r\n\r\n        this.removeItem(key);\r\n        this.setItem(key, value, minutes);\r\n        return this;\r\n    }\r\n\r\n    return {\r\n        getItem: getItem,\r\n        setItem: setItem,\r\n        removeItem: removeItem,\r\n        clear: clear,\r\n        expires: expires\r\n    }\r\n\r\n})(window);","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2016-05-06 16:41:43\r\n * @version $Id$\r\n */\r\n//scopeService\r\nservice_v = '1.0.0';\r\nvar serviceModule = angular.module('app.services', []);\r\nserviceModule.service('scopeService', function () {\r\n    return {\r\n        safeApply: function ($scope, fn) {\r\n            var phase = $scope.$root.$$phase;\r\n            if (phase == '$apply' || phase == '$digest') {\r\n                if (fn && typeof fn === 'function') {\r\n                    fn();\r\n                }\r\n            } else {\r\n                if (fn && typeof fn === 'function') {\r\n                    $scope.$apply(fn);\r\n                } else {\r\n                    $scope.$apply();\r\n                }\r\n            }\r\n        }\r\n    };\r\n});\r\n\r\n//-----UI工具服务\r\nserviceModule.service('uiKit', ['$rootScope', '$q', function ($rootScope, $q) {\r\n    var blockCount = 0;\r\n    var service = {\r\n        blockUI: function () {\r\n            blockCount++;\r\n            $('#loading-widget').addClass('widget-show');\r\n        },\r\n        unblockUI: function () {\r\n            blockCount--;\r\n            if (blockCount <= 0) {\r\n                $('#loading-widget').removeClass('widget-show');\r\n            }\r\n        },\r\n        message: function (msg) {\r\n            $('#msg-widget .widget-body').html(msg);\r\n            var $msgWidget = $('#msg-widget');\r\n            $msgWidget.addClass('widget-show');\r\n            setTimeout(function () {\r\n                $msgWidget.removeClass('widget-show');\r\n            }, 3000);\r\n        },\r\n        alert: function (msg, title) {\r\n            if (title != undefined) {\r\n                $('#alert-widget .widget-header .title').html(title);\r\n            }\r\n            $('#alert-widget .widget-body').html(msg);\r\n            $('#alert-widget').addClass('widget-show');\r\n        },\r\n        confirm: function (msg, title) {\r\n            if (title != undefined) {\r\n                $('#confirm-widget .widget-header .title').html(title);\r\n            }\r\n            $('#confirm-widget .widget-body').html(msg);\r\n            $('#confirm-widget').addClass('widget-show');\r\n            $rootScope.confirmDefer = $q.defer();\r\n            return $rootScope.confirmDefer.promise;\r\n        },\r\n        //显示底部的导航菜单\r\n        showFooter: function () {\r\n            angular.element(document.querySelector('.navbar-absolute-bottom')).removeClass('hide').addClass('show');\r\n            angular.element(document.querySelector('body')).addClass('has-navbar-bottom');\r\n        },\r\n        //隐藏底部的导航菜单\r\n        hideFooter: function () {\r\n            angular.element(document.querySelector('.navbar-absolute-bottom')).removeClass('show').addClass('hide');\r\n            angular.element(document.querySelector('body')).removeClass('has-navbar-bottom');\r\n        },\r\n        //隐藏top nav\r\n        hideHeader: function () {\r\n            angular.element(document.querySelector('.navbar-absolute-top')).removeClass('show').addClass('hide');\r\n            angular.element(document.querySelector('body')).removeClass('has-navbar-top');\r\n        },\r\n        //显示top nav\r\n        showHeader: function () {\r\n            angular.element(document.querySelector('.navbar-absolute-top')).removeClass('hide').addClass('show');\r\n            angular.element(document.querySelector('body')).addClass('has-navbar-top');\r\n        },\r\n    };\r\n    return service;\r\n}]);\r\n\r\n//----current user service\r\n\r\n//---current user service with localstorage\r\nserviceModule.factory('oauthService', ['$location', '$q', '$http', 'appConfig', function ($location, $q, $http, appConfig) {\r\n\r\n    var accessTokenKey = \"accessToken\";\r\n    var refreshTokenKey = \"refreshToken\";\r\n    var userInfoKey = \"userInfo\";\r\n    var identityModel = {\r\n        AccessToken: '',\r\n        RefreshToken: '',\r\n        UserInfo: ''\r\n    };\r\n\r\n    var service = {\r\n        //----获取Token 对象\r\n        getIdentityModel: function () {\r\n            var accessTokenObj = storage.getItem(accessTokenKey);\r\n            var refreshTokenObj = storage.getItem(refreshTokenKey);\r\n            var userInfoObj = storage.getItem(userInfoKey);\r\n            if (accessTokenObj != \"\") {\r\n                identityModel.AccessToken = accessTokenObj.value;\r\n            } else {\r\n                identityModel.AccessToken = \"\";\r\n            }\r\n            if (refreshTokenObj != \"\") {\r\n                identityModel.RefreshToken = refreshTokenObj.value;\r\n            } else {\r\n                identityModel.RefreshToken = \"\";\r\n            }\r\n            if (userInfoObj != \"\") {\r\n                identityModel.UserInfo = userInfoObj.value;\r\n            } else {\r\n                identityModel.UserInfo = \"\";\r\n            }\r\n\r\n            return identityModel;\r\n        },\r\n\r\n        //----获取accesstoken\r\n        getAccessToken: function () {\r\n            return this.getIdentityModel().AccessToken;\r\n        },\r\n\r\n        //----获取UserInfo\r\n        getUserInfo: function () {\r\n            return this.getIdentityModel().UserInfo;\r\n        },\r\n\r\n        //----获取refreshToken\r\n        getRefreshToken: function () {\r\n            return this.getIdentityModel().RefreshToken;\r\n        },\r\n\r\n        //----保存Token(accesstoken 和refreshtoken的信息 用户信息)\r\n        saveIdentityModel: function (tokenResult, userInfo, redirectUrl) {\r\n            //---保存accessTokenInfo\r\n            storage.setItem(accessTokenKey, tokenResult.AccessToken, tokenResult.ExpiresIn);\r\n            //----保存refeshTokenInfo\r\n            storage.setItem(refreshTokenKey, tokenResult.RefreshToken, tokenResult.RefreshTokenLifetime);\r\n\r\n            //保存用户个人信息\r\n            storage.setItem(userInfoKey, userInfo, tokenResult.ExpiresIn);\r\n\r\n            if (redirectUrl == null || redirectUrl == \"\") {\r\n                $location.path('/');\r\n            } else {\r\n                $location.path(redirectUrl);\r\n            }\r\n        },\r\n\r\n        //----移除当前用户所有信息\r\n        removeIdentityModel: function () {\r\n            storage.removeItem(accessTokenKey);\r\n            storage.removeItem(refreshTokenKey);\r\n            storage.removeItem(userInfoKey);\r\n        },\r\n\r\n        //---到登录页面\r\n        goToLoginPage: function () {\r\n            $location.path('/mobileLogin/' + encodeURIComponent(window.location.hash.substring(1)));\r\n        },\r\n\r\n        //---跳转至登录\r\n        goToAuthorize: function () {\r\n            var result = [];\r\n            if (this.getAccessToken() == \"\" && this.getRefreshToken() == \"\") {\r\n                var defer = $q.defer();\r\n                result.$promise = defer.promise;\r\n                defer.resolve({ data: { Code: 10 } });\r\n                service.goToLoginPage();\r\n            } else if (this.getAccessToken() == \"\" && this.getRefreshToken() != \"\") {\r\n                var refreshModel = {\r\n                    RefreshToken: this.getRefreshToken()\r\n                };\r\n                //----todo 利用refresh token请求请的accessToken(根据各个系统采用的登录系统而异)\r\n                result.$promise = $http.post(appConfig.oauthServer + \"Delegation/refreshtoken\", refreshModel);\r\n                if (result.$promise != null) {\r\n                    result.$promise.then(function (response) {\r\n                        var apiResult = response.data;\r\n                        if (apiResult.Code == 0) {\r\n                            service.saveIdentityModel(apiResult.Data);\r\n                        } else {\r\n                            service.removeIdentityModel();\r\n                        }\r\n                    }, function () {\r\n                        service.goToLoginPage();\r\n                    });\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n    };\r\n    return service;\r\n}]);\r\n\r\n//api http\r\nserviceModule.factory('httpProxy', ['$http', 'appConfig', 'oauthService', 'uiKit', function ($http, appConfig, oauthService, uiKit) {\r\n    var service = {\r\n        call: function (route, param, methodType, accessToken) {\r\n            var result = [];\r\n            result.$promise = null;\r\n            var apihost = \"\";\r\n            if (route.indexOf('http') >= 0) {\r\n                apihost = route;\r\n            } else {\r\n                if (appConfig.apiServer.substr(appConfig.apiServer.length - 1, 1) != '/') {\r\n                    appConfig.apiServer = appConfig.apiServer + \"/\";\r\n                }\r\n                apihost = appConfig.apiServer + route;\r\n            }\r\n\r\n            //---token 通过header传递\r\n            $http.defaults.headers.common.Authorization = 'Bearer ' + accessToken;\r\n\r\n            if (methodType == undefined)\r\n                methodType = 'post';\r\n            methodType = methodType.toLowerCase();\r\n            if (methodType == 'post') {\r\n                result.$promise = $http.post(apihost, param);\r\n            }\r\n            if (methodType === 'get') {\r\n                var queryParams = '?';\r\n                if (apihost.indexOf('?') >= 0) {\r\n                    queryParams = \"&\";\r\n                }\r\n                var paramArray = [];\r\n                for (var p in param) {\r\n                    var paramStr = p + '=' + escape(param[p]);\r\n                    paramArray.push(paramStr);\r\n                }\r\n                queryParams += paramArray.join('&');\r\n                if (queryParams === '&' || queryParams === '?') {\r\n                    queryParams = '';\r\n                }\r\n                result.$promise = $http.get(apihost + queryParams);\r\n            }\r\n            if (methodType === 'delete') {\r\n                result.$promise = $http.delete(apihost, { params: param });\r\n            }\r\n            if (methodType === 'put') {\r\n                result.$promise = $http.put(apihost, param);\r\n            }\r\n            if (methodType === 'jsonp') {\r\n                apihost = apihost + \"?callback=JSON_CALLBACK\";\r\n                result.$promise = $http.jsonp(apihost, { params: param });\r\n            }\r\n            if (result.$promise != null) {\r\n                result.$promise.then(function (response) {\r\n                    /*               if (response.data.Code == 10) {\r\n                                       oauthService.goToAuthorize();\r\n                                   }*/\r\n                    angular.extend(result, response.data);\r\n                }, function (response) {\r\n                    if (response.status == 401) {\r\n                        oauthService.removeIdentityModel();\r\n                        oauthService.goToAuthorize();\r\n                    } else {\r\n                        uiKit.message(\"数据服务出错！\");\r\n                    }\r\n                });\r\n                result.$promise.refresh = function (newParam) {\r\n                    result.$promise.then(function () {\r\n                        call(action, newParam).$promise.then(function (response) {\r\n                            angular.extend(result, response.data);\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    return service;\r\n}]);\r\n\r\n//api http service\r\nserviceModule.factory('service', ['$location', '$q', 'httpProxy', 'oauthService', 'uiKit', function ($location, $q, httpProxy, oauthService, uiKit) {\r\n    var count = 0;\r\n    var blocked = false;\r\n    var service = {\r\n        //----带loading call\r\n        call: function (route, param, methodType, token) {\r\n            count++;\r\n            if (!blocked) {\r\n                blocked = true;\r\n                uiKit.blockUI();\r\n            }\r\n            var result = httpProxy.call(route, param, methodType, token);\r\n            result.$promise.finally(function () {\r\n                count--;\r\n                if (count <= 0) {\r\n                    setTimeout(function () {\r\n                        if (count <= 0) {\r\n                            blocked = false;\r\n                            uiKit.unblockUI();\r\n                        }\r\n                    }, 300);\r\n                }\r\n            });\r\n            return result;\r\n        },\r\n\r\n        //----无loading call\r\n        backgroundCall: function (route, param, methodType) {\r\n            return httpProxy.call(route, param, methodType);\r\n        },\r\n\r\n        //----授权后call\r\n        authorizedCall: function (route, param, methodType) {\r\n            if (oauthService.getAccessToken() != \"\") {\r\n                return httpProxy.call(route, param, methodType, oauthService.getAccessToken());\r\n            }\r\n            else {\r\n                var authorizedResult = oauthService.goToAuthorize();\r\n                var result = [];\r\n                var d = $q.defer();\r\n                result.$promise = d.promise;\r\n                if (authorizedResult.$promise != null) {\r\n                    authorizedResult.$promise.then(function (response) {\r\n                        if (response.data.Code == 0) {\r\n                            var temp = httpProxy.call(route, param, methodType, oauthService.getAccessToken());\r\n                            temp.$promise.then(function (apiResponse) {\r\n                                angular.extend(result, apiResponse.data);\r\n                                d.resolve({ data: apiResponse.data });\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n                return result;\r\n            }\r\n        },\r\n\r\n        //----授权并带loading效果\r\n        authorizedLoadingCall: function (route, param, methodType) {\r\n            if (oauthService.getAccessToken() != \"\") {\r\n                return this.call(route, param, methodType, oauthService.getAccessToken());\r\n            } else {\r\n                var authorizedResult = oauthService.goToAuthorize();\r\n                var result = [];\r\n                var d = $q.defer();\r\n                result.$promise = d.promise;\r\n                if (authorizedResult.$promise != null) {\r\n                    authorizedResult.$promise.then(function (response) {\r\n                        if (response.data.Code == 0) {\r\n                            var temp = this.call(route, param, methodType, oauthService.getAccessToken());\r\n                            temp.$promise.then(function (apiResponse) {\r\n                                angular.extend(result, apiResponse.data);\r\n                                d.resolve({ data: apiResponse.data });\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n    };\r\n    return service;\r\n}]);\r\n\r\n","filters_v = '1.0.0';\r\n(function () {\r\n    var module = angular.module('app.filters', []);\r\n\r\n\r\n    //----信任的url\r\n    module.filter('trustUrl', ['$sce', function ($sce) {\r\n        return function (url) {\r\n            return $sce.trustAsResourceUrl(url);\r\n        };\r\n    }]);\r\n\r\n\r\n    //----信任的url\r\n    module.filter('trustHtml', ['$sce', function ($sce) {\r\n        return function (input) {\r\n            return $sce.trustAsHtml(input);\r\n        };\r\n    }]);\r\n\r\n    //启用禁用\r\n    module.filter(\"enabled\", [function () {\r\n        return function (input) {\r\n            if (input == null) {\r\n                return \"\";\r\n            }\r\n            var ret = input ? \"启用\" : \"禁用\";\r\n            return ret;\r\n        };\r\n    }]);\r\n\r\n    //Boolean\r\n    module.filter(\"boolean\", [function () {\r\n        return function (input) {\r\n            if (input == null) {\r\n                return \"\";\r\n            }\r\n            var ret = input ? \"是\" : \"否\";\r\n            return ret;\r\n        };\r\n    }]);\r\n\r\n})();","directives_v = '1.0.0';\r\n(function () {\r\n    var module = angular.module('app.directives', []);\r\n\r\n    //----prevent a default click\r\n    module.directive('a', function () {\r\n        return {\r\n            restrict: 'E',\r\n            link: function (scope, element, attrs) {\r\n                if (attrs.ngClick || attrs.href === '' || attrs.href === '#') {\r\n                    element.on('click', function (e) {\r\n                        e.preventDefault();\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    //----back\r\n    module.directive('dirBack', ['$window', function ($window) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, elementt, attrs) {\r\n                elementt.bind('click', function () {\r\n                    $window.history.back();\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n\r\n    //----ng-repeat 完后发射事件\r\n    module.directive('onFinishRepeat', ['$timeout', function ($timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, element, attrs) {\r\n                if (scope.$last === true) {\r\n                    $timeout(function () {\r\n                        scope.$emit(attrs.onFinishRepeat);\r\n                    });\r\n                }\r\n            }\r\n        }//end return\r\n    }]);\r\n\r\n\r\n})();","constants_v = '1.0.0';\r\n//应用常量\r\n(function () {\r\n    var module = angular.module('app.constants', []);\r\n\r\n    //----系统常量配置\r\n    module.constant(\"platform\", {\r\n        from: 'WeChat',\r\n        tokenLifetime: 43200, //token的生命周期\r\n        platform: 'mobile'\r\n    });\r\n\r\n    //---手机短信事件\r\n    module.constant(\"smsEvent\", {\r\n        // 发送注册验证码\r\n        sendRegisterVCode: 0,\r\n        //发送登录验证码\r\n        sendLoginVCode: 1,\r\n        // 发送重置密码验证码\r\n        sendResetPwdVCode: 2,\r\n        /// 发送修改密码验证码\r\n        sendChangePwdVCode: 3,\r\n        // 发送绑定手机号验证码\r\n        sendBindMobileVCode: 4,\r\n        // 发送重置后的密码\r\n        sendResetedPwd: 9\r\n    });\r\n\r\n    //----正则表达式\r\n    module.constant('patterns', {\r\n        idCardNo: /^[1-9](\\d{5})(((19\\d{2})|2\\d{3})(((0[13578]|1[02])(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)(0[1-9]|[12][0-9]|30))|(02(0[1-9]|[1][0-9]|2[0-8])))|(([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))0229)(\\d{3})([0-9]|X|x)$/,\r\n        passport: /^([a-zA-Z]{5,17}|[a-zA-Z0-9]{5,17})$/,\r\n        hkMacao: /^[HMhm]{1}([0-9]{10}|[0-9]{8})$/,\r\n        taiwan: /^([0-9]{8}|[0-9]{10})$/,\r\n        studentNumber: /^[a-zA-Z0-9]{1,19}$/, //学籍号\r\n\r\n        mobile: /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,\r\n        phoneReg: /^[1][3-8]+\\d{9}$/,\r\n        email: /^[A-Za-z0-9._%+-]+@[A-Za-z0-9]+\\.[A-Za-z]{2,4}$/,\r\n        tel: /^(0[0-9]{2,3}\\-)?([2-9][0-9]{6,7})+(\\-[0-9]{1,4})?$/,\r\n        zhEn: /^[a-zA-Z\\u4e00-\\u9fa5]+$/, //中文英文\r\n        zhEnChar: /^[a-zA-Z0-9@&-\\.\\u4e00-\\u9fa5]+$/ //中文英文特殊字符(@&-.)\r\n    });\r\n})();","//修改成自己的api服务器地址\r\nvar apiConfig = {\r\n    apiServer: 'http://172.16.193.4/CE.Api/',\r\n    apiBatchServer: 'http://172.16.193.4/CE.Api/batch/',\r\n    oauthServer: 'http://idp.saiquaner.com/authcenter.api/'\r\n};","//----UI object init\r\n(function (window, $) {\r\n    //check Zepto\r\n    if (!$) {\r\n        throw 'please include zepto first.';\r\n    }\r\n    window.UI = {\r\n        //---无需参数的函数数组\r\n        boot: [],\r\n        $body: $('body'),\r\n        $doc: $(document),\r\n        $win: $(window),\r\n        $content: $('body').children('.app-content').length ? $('body').children('.app-content') : $('body'),\r\n        init: function () {\r\n            this.boot.forEach(function (fn) {\r\n                if ($.isFunction(fn)) {\r\n                    fn();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    //---组件\r\n    window.Component = function (fn) {\r\n        var UI = window.UI;\r\n        if (!UI) return;\r\n        fn(UI, $);\r\n    };\r\n\r\n})(window, Zepto);\r\n\r\n//-----关闭对话框\r\nwindow.Component(function (UI, $) {\r\n    UI.closeWidget = function (eleId) {\r\n        var $ele = $('#' + eleId);\r\n        $ele.removeClass('widget-show');\r\n    }\r\n    UI.boot.push(function () {\r\n        $('[dialog-close]').each(function () {\r\n            $(this).on('click', function () {\r\n                UI.closeWidget($(this).attr('dialog-close'));\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\n//----tooltiip\r\nwindow.Component(function (UI, $) {\r\n    UI.toggleTooltip = function ($ele) {\r\n        var $tooltip = $ele.next('.tooltip');\r\n        if ($tooltip.hasClass('tooltip-show')) {\r\n            $tooltip.removeClass('tooltip-show');\r\n        } else {\r\n            $tooltip.addClass('tooltip-show');\r\n        }\r\n    }\r\n    UI.boot.push(function () {\r\n        $('[data-tooltip]').each(function () {\r\n            $(this).on('click', function () {\r\n                UI.toggleTooltip($(this));\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\n//----animationEnd\r\n/*\r\nwindow.Component(function (UI, $) {\r\n    UI.animationEnd = function ($ele) {\r\n        $ele.on(\"webkitAnimationEnd\", function () {\r\n            console.log(\"hello\");\r\n            $ele.addClass('splash-screen-hide');\r\n        });\r\n    }\r\n    UI.boot.push(function () {\r\n        $('.splash-screen').each(function () {\r\n            UI.animationEnd($(this));\r\n        });\r\n    });\r\n});\r\n*/\r\n","function accountServiceProxy($location, service, appConfig) {\r\n\r\n    //---发送短信\r\n    this.sendSMS = function (model) {\r\n        return service.backgroundCall(appConfig.oauthServer + \"Accounts/SendVerificationCode\", model, \"post\");\r\n    };\r\n\r\n    //---手机号注册\r\n    this.mobileRegister = function(model) {\r\n        return service.call(appConfig.oauthServer + \"Delegation/realnameregister\", model, \"post\");\r\n    };\r\n\r\n    //----更新token\r\n    this.RefreshToken = function() {\r\n        return service.backgroundCall(appConfig.oauthServer + \"Delegation/refreshtoken\", model, \"post\");\r\n    };\r\n\r\n    //---账号登录\r\n    this.accountLogin = function (model) {\r\n        return service.call(appConfig.oauthServer + \"Delegation/requesttoken\", model, \"post\");\r\n    };\r\n\r\n    //---手机号+密码登录\r\n    this.mobileLogin = function(model) {\r\n        return service.backgroundCall(appConfig.oauthServer+\"Delegation/requesttoken\", model, \"post\");\r\n    };\r\n    \r\n    //---手机号+验证码登录\r\n    this.verificationCodeLogin = function (model) {\r\n        return service.call(appConfig.oauthServer + \"Delegation/requesttoken/mobile\", model, \"post\");\r\n    };\r\n\r\n    \r\n    //---重置密码\r\n    this.resetPwd = function (resetPwdModel) {\r\n        return service.call(appConfig.oauthServer + \"Accounts/ResetPassword\",resetPwdModel,\"post\");\r\n    };\r\n    \r\n    //---修改密码\r\n    this.changePwd = function (model) {\r\n        return service.authorizedLoadingCall(appConfig.oauthServer + \"Accounts/ChangePassword\", model, \"post\");\r\n    };\r\n\r\n    //---获取当前用户信息\r\n    this.getCurrentUser = function(token) {\r\n        //return service.authorizedLoadingCall(appConfig.oauthServer + \"Accounts/UserInfo\", {}, \"get\");\r\n        return service.call(appConfig.oauthServer + \"Accounts/UserInfo\", {}, \"get\", token);\r\n    };\r\n\r\n    //---注销\r\n    this.logOut = function () {\r\n        return service.authorizedCall(\"Accounts/Logout\", {}, \"post\");\r\n    };\r\n\r\n}\r\n\r\nangular.module('account.service', []).factory('accountService', ['$location', 'service', 'appConfig', function ($location, service, appConfig) {\r\n    return new accountServiceProxy($location, service, appConfig);\r\n}]);","(function () {\r\n    'use strict';\r\n    var module = angular.module('account', ['account.service']);\r\n\r\n    //----路由配置\r\n    module.config(['$routeProvider',function ($routeProvider) {\r\n        $routeProvider\r\n            .when('/mobileLogin',\r\n                {\r\n                    templateUrl: 'app/account/mobile-login.html',\r\n                    controller: 'mobileLoginCtrl',\r\n                    reloadOnSearch: false,\r\n                    footer: false\r\n                })\r\n            .when('/mobileLogin/:redirectUrl',\r\n                {\r\n                    templateUrl: 'app/account/mobile-login.html',\r\n                    controller: 'mobileLoginCtrl',\r\n                    reloadOnSearch: false,\r\n                    footer: false\r\n                })\r\n            .when('/vcodeLogin',\r\n                {\r\n                    templateUrl: 'app/account/vcode-login.html',\r\n                    controller: 'vcodeLoginCtrl',\r\n                    reloadOnSearch: false,\r\n                    footer: false\r\n                })\r\n            .when('/vcodeLogin/:redirectUrl',\r\n                {\r\n                    templateUrl: 'app/account/vcode-login.html',\r\n                    controller: 'vcodeLoginCtrl',\r\n                    reloadOnSearch: false,\r\n                    footer: false\r\n                })\r\n            .when('/mobileRegister', {\r\n                templateUrl: 'app/account/mobile-register.html',\r\n                controller: 'registerFormCtrl',\r\n                reloadOnSearch: false,\r\n                footer: false\r\n            })\r\n            .when('/mobile/:mobile/:pwd/register', {\r\n                templateUrl: 'app/account/verification-code.html',\r\n                controller: 'mobileRegisterCtrl',\r\n                reloadOnSearch: false,\r\n                footer: false\r\n            })\r\n            //忘记密码\r\n            .when('/forgetPwd', {\r\n                templateUrl: 'app/account/forget-password.html',\r\n                controller: 'forgetPwdCtrl',\r\n                reloadOnSearch: false,\r\n                footer: false\r\n            })\r\n        ;\r\n    }]);\r\n\r\n    //----手机号+密码登录\r\n    module.controller('mobileLoginCtrl', ['$scope', '$location', '$routeParams', '$timeout', 'oauthService', 'accountService', 'uiKit', 'platform', function ($scope, $location, $routeParams, $timeout, oauthService, accountService, uiKit, platform) {\r\n\r\n        var redirectUrl = decodeURIComponent($routeParams.redirectUrl);\r\n\r\n        $scope.loginModel = {\r\n            IdentityKey: \"\",\r\n            Password: \"\",\r\n            VerificationCode: null,\r\n            From: platform.from,\r\n            GraphicCode: null\r\n        };\r\n\r\n\r\n        $scope.isShowSaveBtn = true;// 登录 & 登录中...\r\n\r\n        $scope.toggleShow = function () {\r\n            $scope.isReadable = !$scope.isReadable;\r\n        };\r\n\r\n        //----手机号登录\r\n        $scope.mobileLogin = function () {\r\n            $scope.isSubmitted = true;\r\n            if ($scope.form.$invalid) {\r\n                return false;\r\n            }\r\n            $scope.isShowSaveBtn = false;\r\n            accountService.mobileLogin($scope.loginModel).$promise.then(function (response) {\r\n                if (response.data.Code == 0) {\r\n                    //oauthService.saveTokenInfo(result.Data);\r\n                    //获取用户信息\r\n                    accountService.getCurrentUser(response.data.Data.AccessToken).$promise.then(function (result) {\r\n                        if (result.data.Code == 0) {\r\n                            $scope.user = result.data.Data;\r\n                            oauthService.saveIdentityModel(response.data.Data, result.data.Data, redirectUrl);\r\n                        }\r\n                    });\r\n                } else {\r\n                    uiKit.alert(response.data.Message);\r\n                }\r\n                $scope.isShowSaveBtn = true;\r\n            });\r\n        };\r\n\r\n    }]);\r\n\r\n    //----手机号+验证码登录\r\n    module.controller('vcodeLoginCtrl', ['$scope', '$location', '$routeParams', '$timeout', 'oauthService', 'accountService', 'uiKit', 'smsEvent', 'platform', function ($scope, $location, $routeParams, $timeout, oauthService, accountService, uiKit, smsEvent, platform) {\r\n\r\n        var redirectUrl = decodeURIComponent($routeParams.redirectUrl);\r\n\r\n        $scope.loginModel = {\r\n            Mobile: \"\",\r\n            VerificationCode: \"\",\r\n            From: platform.from\r\n        };\r\n\r\n\r\n        $scope.btnText = \"发送验证码\";\r\n        $scope.isEnableSend = true;\r\n\r\n        //----发送短信验证码\r\n        $scope.sendSMS = function () {\r\n            var smsModel = {\r\n                CellNumber: $scope.loginModel.Mobile,\r\n                Event: smsEvent.sendLoginVCode\r\n            };\r\n            accountService.sendSMS(smsModel).$promise.then(function (response) {\r\n                var result = response.data;\r\n                if (result.Code == 0) {\r\n                    $scope.vCodeLifetime = result.Data;\r\n                    $scope.isEnableSend = false;\r\n                    countDown();\r\n                } else if (result.Code == 40) {\r\n                    uiKit.message(\"网络繁忙，请稍后再试~\");\r\n                } else {\r\n                    uiKit.message(result.Message);\r\n                }\r\n            });\r\n        };\r\n\r\n        //----倒计时\r\n        function countDown() {\r\n            var intevalId = setInterval(function () {\r\n                if ($scope.vCodeLifetime < 0) {\r\n                    clearInterval(intevalId);\r\n                    $scope.isEnableSend = true;\r\n                    $timeout(function () {\r\n                        $scope.btnText = \"发送短信验证码\";\r\n                    }, 0);\r\n                } else {\r\n                    $scope.vCodeLifetime--;\r\n                    $timeout(function () {\r\n                        $scope.btnText = \"重新发送(\" + $scope.vCodeLifetime + \")\";\r\n                    }, 0);\r\n                }\r\n            }, 1000);\r\n        }\r\n\r\n        //----验证码登录\r\n        $scope.vCodeLogin = function () {\r\n            $scope.isSubmitted = true;\r\n            if ($scope.form.$invalid) {\r\n                return false;\r\n            }\r\n            accountService.verificationCodeLogin($scope.loginModel).$promise.then(function (response) {\r\n                if (response.data.Code == 0) {\r\n                    //获取用户信息\r\n                    accountService.getCurrentUser(response.data.Data.AccessToken).$promise.then(function (result) {\r\n                        if (result.data.Code == 0) {\r\n                            $scope.user = result.data.Data;\r\n                            oauthService.saveIdentityModel(response.data.Data, result.data.Data, redirectUrl);\r\n                        }\r\n                    });\r\n                } else {\r\n                    uiKit.alert(response.data.Message);\r\n                }\r\n            });\r\n        };\r\n\r\n    }]);\r\n\r\n    //----用户手机号注册表单\r\n    module.controller('registerFormCtrl', ['$scope', '$location', 'uiKit', 'smsEvent', 'accountService', function ($scope, $location, uiKit, smsEvent, accountService) {\r\n\r\n        //----验证码登录模型\r\n        $scope.model = {\r\n            Mobile: '',\r\n            Password: ''\r\n        };\r\n\r\n        //----密码是否可见\r\n        $scope.isReadable = false;\r\n        $scope.toggleShow = function () {\r\n            $scope.isReadable = !$scope.isReadable;\r\n        };\r\n\r\n        //----发送短信验证码\r\n        $scope.sendSMS = function () {\r\n            $scope.isSubmitted = true;\r\n            if ($scope.form.$invalid) {\r\n                return false;\r\n            }\r\n            var smsModel = {\r\n                CellNumber: $scope.model.Mobile,\r\n                Event: smsEvent.sendRegisterVCode\r\n            };\r\n            accountService.sendSMS(smsModel).$promise.then(function (response) {\r\n                var result = response.data;\r\n                if (result.Code == 0) {\r\n                    $scope.vCodeLifetime = result.Data;\r\n                    $location.path('/mobile/' + $scope.model.Mobile + '/' + $scope.model.Password + '/register');\r\n                } else if (result.Code == 40) {\r\n                    uiKit.message(\"网络繁忙，请稍后再试~\");\r\n                } else {\r\n                    uiKit.message(result.Message);\r\n                }\r\n            });\r\n        };\r\n    }]);\r\n\r\n    //----手机注册\r\n    module.controller('mobileRegisterCtrl', ['$scope', '$location', '$timeout', '$routeParams', 'oauthService', 'accountService', 'uiKit', 'smsEvent', function ($scope, $location, $timeout, $routeParams, oauthService, accountService, uiKit, smsEvent) {\r\n        //----验证码登录模型\r\n        $scope.model = {\r\n            Mobile: $routeParams.mobile,\r\n            Password: $routeParams.pwd,\r\n            VerificationCode: ''\r\n        };\r\n\r\n        //----手机号注册\r\n        $scope.register = function () {\r\n            $scope.isSubmitted = true;\r\n            if ($scope.form.$invalid) {\r\n                return false;\r\n            }\r\n            accountService.mobileRegister($scope.model).$promise.then(function (response) {\r\n                if (response.data.Code == 0) {\r\n                    uiKit.message(\"恭喜您，您已成为赛圈儿用户！\");\r\n\r\n                    //获取用户信息\r\n                    accountService.getCurrentUser(response.data.Data.AccessToken).$promise.then(function (result) {\r\n                        if (result.data.Code == 0) {\r\n                            $scope.user = result.data.Data;\r\n                            oauthService.saveIdentityModel(response.data.Data, result.data.Data);\r\n                        }\r\n                    });\r\n                } else {\r\n                    uiKit.message(response.Message);\r\n                }\r\n            });\r\n        };\r\n\r\n    }]);\r\n\r\n    //----忘记密码(发送重置密码)\r\n    module.controller('forgetPwdCtrl', ['$scope', '$location', '$timeout', '$routeParams', 'oauthService', 'accountService', 'uiKit', 'smsEvent', function ($scope, $location, $timeout, $routeParams, oauthService, accountService, uiKit, smsEvent) {\r\n\r\n        $scope.ResetPasswordModel = {\r\n            Mobile: \"\",\r\n            VerificationCode: \"\"\r\n        };\r\n\r\n\r\n        $scope.btnText = \"发送验证码\";\r\n        $scope.isEnableSend = true;\r\n\r\n        //----发送短信验证码\r\n        $scope.sendSMS = function () {\r\n            var smsModel = {\r\n                CellNumber: $scope.ResetPasswordModel.Mobile,\r\n                Event: smsEvent.sendResetPwdVCode\r\n            };\r\n            accountService.sendSMS(smsModel).$promise.then(function (response) {\r\n                var result = response.data;\r\n                if (result.Code == 0) {\r\n                    $scope.vCodeLifetime = result.Data;\r\n                    $scope.isEnableSend = false;\r\n                    countDown();\r\n                } else if (result.Code == 40) {\r\n                    uiKit.message(\"网络繁忙，请稍后再试~\");\r\n                } else {\r\n                    uiKit.message(result.Message);\r\n                }\r\n            });\r\n        };\r\n\r\n        //----倒计时\r\n        function countDown() {\r\n            var intevalId = setInterval(function () {\r\n                if ($scope.vCodeLifetime < 0) {\r\n                    clearInterval(intevalId);\r\n                    $scope.isEnableSend = true;\r\n                    $timeout(function () {\r\n                        $scope.btnText = \"发送短信验证码\";\r\n                    }, 0);\r\n                } else {\r\n                    $scope.vCodeLifetime--;\r\n                    $timeout(function () {\r\n                        $scope.btnText = \"重新发送(\" + $scope.vCodeLifetime + \")\";\r\n                    }, 0);\r\n                }\r\n            }, 1000);\r\n        }\r\n\r\n        //---发送重置密码\r\n        $scope.postResetPwd = function () {\r\n            $scope.isSubmitted = true;\r\n            if ($scope.form.$invalid) {\r\n                return;\r\n            }\r\n\r\n            accountService.resetPwd($scope.ResetPasswordModel).$promise.then(function (response) {\r\n                var result = response.data;\r\n                if (result.Code == 0) {\r\n                    uiKit.message(\"新的密码已发送，请注意查收！\");\r\n                    $location.path(\"/mobileLogin\");\r\n                } else {\r\n                    uiKit.message(result.Message);\r\n                }\r\n            });\r\n        };\r\n    }]);\r\n})();","(function () {\r\n    'use strict';\r\n    var appCtrl = angular.module('app', ['app.constants', 'app.services', 'app.directives', 'app.filters', 'app.validations']);\r\n\r\n    //----mainCtrl\r\n    appCtrl.controller('mainCtrl', ['$rootScope', '$scope', 'uiKit', 'oauthService', function ($rootScope, $scope, uiKit, oauthService) {\r\n\r\n        // Needed for the loading screen\r\n        $rootScope.$on('$routeChangeStart', function (scope, next, current) {\r\n            uiKit.blockUI();\r\n        });\r\n\r\n        $rootScope.$on('$routeChangeSuccess', function (scope, next, current) {\r\n            uiKit.unblockUI();\r\n            if (angular.isUndefined(next.$$route)) {\r\n                return;\r\n            }\r\n            var footer = next.$$route.footer;\r\n            var header = next.$$route.header;\r\n            var auth = next.$$route.auth;\r\n            if (!angular.isUndefined(footer) && !footer) {\r\n                uiKit.hideFooter();\r\n            } else {\r\n                uiKit.showFooter();\r\n            }\r\n\r\n            if (!angular.isUndefined(header) && !header) {\r\n                uiKit.hideHeader();\r\n            } else {\r\n                uiKit.showHeader();\r\n            }\r\n\r\n            //是否需要认证\r\n            if (!angular.isUndefined(auth) && auth) {\r\n                oauthService.getCurrentUser();\r\n            }\r\n        });\r\n\r\n    }]);\r\n\r\n})();","var app = angular.module('mobileApp', [\r\n    'ngRoute',\r\n    'ngAnimate',\r\n    'jcs.angular-http-batch',\r\n    'mobile-angular-ui',\r\n    'mobile-angular-ui.gestures',\r\n    //common module \r\n    'app',\r\n    'account',\r\n    'user'\r\n    //-----component module\r\n\r\n]);\r\n\r\n//----系统常量配置\r\napp.constant('appConfig', {\r\n    apiServer: apiConfig.apiServer,\r\n    apiBatchServer: apiConfig.apiBatchServer,\r\n    oauthServer: apiConfig.oauthServer\r\n});\r\n\r\napp.run(['$transform', function ($transform) {\r\n    window.$transform = $transform;\r\n}]);\r\n\r\nsetTimeout(function asyncBootstrap() {\r\n    //---启动成功移除启动画面\r\n    if (window.angular.bootstrap) {\r\n        angular.element(document.querySelector('.splash-screen')).addClass('zoomOut');\r\n        window.UI.init();\r\n    }\r\n}, 0);\r\n\r\n//----app 配置\r\napp.config(['$routeProvider', 'httpBatchConfigProvider', 'appConfig', function ($routeProvider, httpBatchConfigProvider, appConfig) {\r\n    //----批量请求\r\n    httpBatchConfigProvider.setAllowedBatchEndpoint(\r\n        appConfig.apiServer,\r\n        appConfig.apiBatchServer,\r\n        {\r\n            maxBatchedRequestPerCall: 20,\r\n            minimumBatchSize: 2 //The smallest number of individual calls allowed in a batch request\r\n        }\r\n    );\r\n\r\n    //---路由\r\n    $routeProvider\r\n        .otherwise(\r\n    {\r\n        redirectTo: 'users'\r\n    });\r\n}]);\r\n"],"sourceRoot":"/source/"}